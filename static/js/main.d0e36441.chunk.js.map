{"version":3,"sources":["MicroFrontend.js","App.js","reportWebVitals.js","index.js"],"names":["MicroFrontend","name","host","history","useEffect","scriptId","renderMicroFrontend","window","document","getElementById","console","log","fetch","then","res","json","manifest","script","createElement","id","crossOrigin","src","files","onload","head","appendChild","defaultProps","process","dogsHost","REACT_APP_DOGS_HOST","catsHost","REACT_APP_CATS_HOST","Header","className","Dogs","Cats","GreetingCat","Home","useState","input","setInput","placeholder","defaultValue","onChange","e","target","value","onClick","push","App","Fragment","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"mOAEA,SAASA,EAAT,GAAiD,IAAxBC,EAAuB,EAAvBA,KAAMC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QAgCjC,OA/BAC,qBAAU,WACN,IAAMC,EAAQ,gCAA4BJ,GAEpCK,EAAsB,WAExBC,OAAO,SAAD,OAAUN,IAAhB,UAA2BA,EAA3B,cAA6CE,IAGjD,IAAIK,SAASC,eAAeJ,GAkB5B,OAdAK,QAAQC,IAAIT,GACZU,MAAM,GAAD,OAAIV,EAAJ,yBACAW,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACH,IAAMC,EAAST,SAASU,cAAc,UACtCD,EAAOE,GAAKd,EACZY,EAAOG,YAAc,GACrBH,EAAOI,IAAP,qCAA2CL,EAASM,MAAM,YAC1DL,EAAOM,OAAS,WACZjB,KAEJE,SAASgB,KAAKC,YAAYR,MAG3B,WACHV,OAAO,UAAD,OAAWN,KAAWM,OAAO,UAAD,OAAWN,IAAjB,UAA4BA,EAA5B,gBAlB5BK,OAsBD,sBAAMa,GAAE,UAAKlB,EAAL,gBAGnBD,EAAc0B,aAAe,CACzBlB,kBACAD,eAGWP,QCnCf,G,MAGI2B,oQAFmBC,EADvB,EACEC,oBACqBC,EAFvB,EAEEC,oBAGF,SAASC,IACP,OACE,sBAAKC,UAAU,SAAf,UACE,oBAAIA,UAAU,eAAd,qDACA,iEAKN,SAASC,EAAT,GAA4B,IAAZ/B,EAAW,EAAXA,QACd,OAAO,cAAC,EAAD,CAAeA,QAASA,EAASD,KAAM0B,EAAU3B,KAAK,SAG/D,SAASkC,EAAT,GAA4B,IAAZhC,EAAW,EAAXA,QACd,OAAO,cAAC,EAAD,CAAeA,QAASA,EAASD,KAAM4B,EAAU7B,KAAK,SAG/D,SAASmC,EAAT,GAAmC,IAAZjC,EAAW,EAAXA,QACrB,OACE,gCACE,cAAC6B,EAAD,IACA,qBAAKC,UAAU,OAAf,SACE,cAAC,EAAD,CAAe9B,QAASA,EAASD,KAAM4B,EAAU7B,KAAK,cAM9D,SAASoC,EAAT,GAA4B,IAAZlC,EAAW,EAAXA,QACd,EAA0BmC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAMA,OACE,gCACE,cAACR,EAAD,IACA,sBAAKC,UAAU,OAAf,UACE,uBACEQ,YAAY,oBACZC,aAAcH,EACdI,SAAU,SAACC,GAAD,OAAOJ,EAASI,EAAEC,OAAOC,UAErC,wBAAQC,QAbQ,WACpB5C,EAAQ6C,KAAR,eAAqBT,KAYjB,+BAGF,qBAAKN,UAAU,OAAf,SACE,sBAAKA,UAAU,UAAf,UACE,qBAAKA,UAAU,MAAf,SACE,cAACE,EAAD,MAEF,qBAAKF,UAAU,MAAf,SACE,cAACC,EAAD,cAqBGe,MAbf,WACE,OACE,cAAC,IAAD,UACE,cAAC,IAAMC,SAAP,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWhB,IACjC,cAAC,IAAD,CAAOc,OAAK,EAACC,KAAK,iBAAiBC,UAAWjB,YCnEzCkB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB3C,MAAK,YAAkD,IAA/C4C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFxD,SAASC,eAAe,SAM1B6C,M","file":"static/js/main.d0e36441.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\n\r\nfunction MicroFrontend({ name, host, history }) {\r\n    useEffect(() => {\r\n        const scriptId = `micro-frontend-script-${name}`;\r\n\r\n        const renderMicroFrontend = () => {\r\n\r\n            window[`render${name}`](`${name}-container`, history);\r\n        };\r\n\r\n        if (document.getElementById(scriptId)) {\r\n            renderMicroFrontend();\r\n            return;\r\n        }\r\n        console.log(host);\r\n        fetch(`${host}/asset-manifest.json`)\r\n            .then((res) => res.json())\r\n            .then((manifest) => {\r\n                const script = document.createElement(\"script\");\r\n                script.id = scriptId;\r\n                script.crossOrigin = \"\";\r\n                script.src = `https://mail2yugi.github.io${manifest.files[\"main.js\"]}`;\r\n                script.onload = () => {\r\n                    renderMicroFrontend();\r\n                };\r\n                document.head.appendChild(script);\r\n            });\r\n\r\n        return () => {\r\n            window[`unmount${name}`] && window[`unmount${name}`](`${name}-container`);\r\n        };\r\n    });\r\n\r\n    return <main id={`${name}-container`} />;\r\n}\r\n\r\nMicroFrontend.defaultProps = {\r\n    document,\r\n    window,\r\n};\r\n\r\nexport default MicroFrontend;","import React, { useState } from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\nimport MicroFrontend from \"./MicroFrontend\";\n\nimport \"./App.css\";\n\nconst {\n  REACT_APP_DOGS_HOST: dogsHost,\n  REACT_APP_CATS_HOST: catsHost,\n} = process.env;\n\nfunction Header() {\n  return (\n    <div className=\"banner\">\n      <h1 className=\"banner-title\">&#128571; Cats and Dogs &#128021;</h1>\n      <h4>Random pics of cats and dogs</h4>\n    </div>\n  );\n}\n\nfunction Dogs({ history }) {\n  return <MicroFrontend history={history} host={dogsHost} name=\"Dogs\" />;\n}\n\nfunction Cats({ history }) {\n  return <MicroFrontend history={history} host={catsHost} name=\"Cats\" />;\n}\n\nfunction GreetingCat({ history }) {\n  return (\n    <div>\n      <Header />\n      <div className=\"home\">\n        <MicroFrontend history={history} host={catsHost} name=\"Cats\" />\n      </div>\n    </div>\n  );\n}\n\nfunction Home({ history }) {\n  const [input, setInput] = useState(\"\");\n\n  const handleOnClick = () => {\n    history.push(`/cat/${input}`);\n  };\n\n  return (\n    <div>\n      <Header />\n      <div className=\"home\">\n        <input\n          placeholder=\"Insert a greeting\"\n          defaultValue={input}\n          onChange={(e) => setInput(e.target.value)}\n        />\n        <button onClick={handleOnClick}>Greet to a Cat</button>\n      </div>\n\n      <div className=\"home\">\n        <div className=\"content\">\n          <div className=\"cat\">\n            <Cats />\n          </div>\n          <div className=\"dog\">\n            <Dogs />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <React.Fragment>\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/cat/:greeting\" component={GreetingCat} />\n        </Switch>\n      </React.Fragment>\n    </BrowserRouter>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}